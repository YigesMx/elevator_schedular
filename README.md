# Elevator Scheduler

A ZGCA SoftEngineering lecture project.

本项目为电梯调度挑战提供了一个高效、动态的解决方案。算法核心是**“基于成本函数指派的动态扫描算法” (Cost-Function-Based Dynamic SCAN)**，旨在最小化乘客的平均等待时间和 P95 分位等待时间。

## 算法设计概要

我们的算法融合了多种先进调度思想，以实现系统性与灵活性的平衡：

1.  **系统性 (SCAN 算法)**: 算法的“骨架”是经典的SCAN（扫描）算法。每部电梯都有一个主服务方向（向上/向下），它会沿着这个方向持续移动，服务完所有同向请求后才会掉头。这保证了电梯不会进行无效的短距离折返，确保了基础的运行效率。

2.  **灵活性 (成本函数指派)**: 算法的“大脑”是一个成本函数。当有新的乘客呼叫时，系统不会简单地指派最近的电梯，而是会为**每一部电梯**计算一个“成本分数”，然后将任务分配给**成本最低**（即最适合）的电梯。该成本函数综合考虑了：
    * **方向匹配性**: 优先选择同向的电梯。
    * **距离成本**: 距离越远，成本越高。
    * **载重惩罚**: 电梯内乘客越多，再去接新乘客的成本越高。
    * **等待时间奖励**: 乘客等待的时间越长，响应其呼叫的成本就越低，以此优先处理等待已久的乘客。

3.  **实时性 (即时重定向)**: 在每个时间单位（tick）的末尾，算法都会重新评估每部电梯的最佳路径。如果出现一个更优的停靠点，算法会使用 `immediate=True` **立即打断**电梯当前的任务，派它去执行更优的路径，确保电梯始终行驶在最高效的路径上。

## 运行依赖

* **Python**: 版本 >= 3.10
* **操作系统**: Windows 10+ / Ubuntu 22.04+ / macOS
* **依赖**:
    * 前端：node.js, pnpm, vite
    * 后端：elevator-py及其依赖
